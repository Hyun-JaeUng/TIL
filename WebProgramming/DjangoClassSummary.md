# Django(장고) 프로그래밍

> 0126_10시부터 수업

### 웹의 기본 이해

* 서버: 정보 제공하는 보통의 웹사이트들이 이에 해당
* 클라이언트: 서버를 찾아 접속하는 컴퓨터가 이에 해당

#### 웹 프로그램의 구조 별 개념

* 프론트엔드: 프론트엔드는 보통 사용자들이 보는 화면의 모습을 결정함. **HTML, CSS, JavaScipt** 프로그래밍으로 보통 구성되고, 클라이언트의 웹 브라우저에서 코드가 실행되거나 그려짐
* 백엔드: 백엔드는 사용자가 접속하면 그에 맞는 데이터를 보내주기 위해 여러가지 처리를 하는 부분을 담당하는 로직을 구성함. 우리가 배울 **Django 기반의 Python 프로그래밍이나 데이터베이스** 등이 여기에 속함
  * (CGI, PHP, ASP, Servlet, NodeJS, **JSP, Spring MVC**) - 많이 쓰이는 핵심 백엔드 언어인듯
  * 장고는 조금 더 후발주자.

#### 서버- 클라이언트 간 통신 방향 별 개념

* ""요청 - 응답"" 통신
  * 클라이언트 요청 -> 서버 응답
* 응답 방식: 약 80% HTML, 이 외에 JSON, XML도 있음. 

### HTTP 프로토콜

* 웹의 기본 통신규약 (정의한 규칙)
* HTTP 프로토콜은 상태가 없는 프로토콜 -> 이전 데이터 요청과 다음 데이터 요청이 서로 관련이 없다는 말

#### URL

* URL은 서버에 자원을 요청하기 위해 입력하는 영문 주소
* Protocol + Host + Port + resource path + Query
  * resource path가 생략되면 기본파일을 달라는 의미로 해석 - 주로 index.html)
* 예시: `https://www.domain.com:1234/path/to/resource?a=b&x=y`

#### HTTP 요청 메서드

* URL을 이용하면 서버에 특정 데이터 요청 할 수 있음
* 여기서 요청하는 데이터에 특정 동작을 수행하고 싶으면 HTTP 요청 메서드를 이용함

* **get, post**, put, delete 
  * get이 기본 요청 방식

#### HTTP 상태 코드

* 2XX - 성공, 3XX - 리다이렉션, 4XX - 클라이언트 에러, 5XX - 서버 에러
  * 200은 요청 성공
  * 404는 요청한 자원 못 찾아서 실패
  * 500은 자원은 있지만 실행 에러



## Django (장고)

> 웹 서버 프로그래밍 중 하나
>
> 적은 코딩량으로 우리가 원하는 것을 구현 할 수 있으나 난이도가 있는 편

* 장고는 파이썬으로 작성된 오픈 소스 웹 어플리케이션 프레임워크. (MTV 패턴)

* 장고 개발환경 구축 (가상환경, 워드 파일) 

#### 라이브러리(API)란?

* **재사용이 필요한 기능으로 반복적인 코드 작성을 없애기 위해 언제든지 필요한 곳에서 호출하여 사용할 수 있도록 Class나 Function으로 만들어진 것**
* 미리 준비하여 제공한 느낌

#### 프레임워크란?

* 원하는 기능 구현에만 집중하여 빠르게 개발 할 수 있도록 기본적으로 필요한 기능을 갖추고 있는 것으로 라이브러리가 포함되어 있음
* **BUT, 프레임워크만으로는 실행되지 않으며 기능 추가를 해야 되고, 프레임워크에 의존하여 개발해야 되며 프레임워크가 정의한 규칙을 준수해야 함**
* "반제품 형식"으로 나와서 꼭 양식에 맞춰서 나머지를 채우면 됨
* 최근에는 프레임워크 활용 많아짐 -> 빠르고 규격화 되어있음, 또한 유지보수하기가 좋다!
  * Django도 프레임워크 기반
  * studyproject에 전역적인 소스들이 있음

### 장고 프로그램의 개발 패턴

* 장고 프레임 워크에서는 기존 MVC 패턴에서 View를 Template, Controller는 View라고 표현하며, **MTV**라고 함
* 클라이언트 요청받아서 기능을 수행하는 역할 - **View** -> Python으로 개발 (중간관리자)
* 응답하는 역할 (프레젠테이션 역할) - Template -> HTML로 개발
* Model은 파이썬으로 필요하면 만들고, 안만들기도 함. (DB 동작, 자동화 많이 되어있음)
* 핵심은 클라이언트가 요청해서 서비스하는 로직과 응답하는 로직을 나눠서 개발함!
* 강의교안 1 리뷰보고, 복습 필요!

### 장고의 처리 흐름

* 웹 클라이언트의 요청을 받아 장고에서 MTV 모델에 따라 처리하는 과정
  1. 클라이언트로부터 요청 받으면 URLconf 모듈을 이용하여 URL 분석
  2. URL 분석 결과를 통해 해당 URL에 매칭되는 뷰들 실행
  3. 뷰는 자신의 로직을 실행하고, 데이터베이스 처리가 필요하면 모델을 통해 처리하고 그 결과 반환
  4. 뷰는 자신의 로직처리가 끝나면!, 템플릿을 사용하여 클라이언트에 전송할 HTML 파일을 생성
  5. 뷰는 최종 결과로 HTML 파일을 클라이언트에게 보내 응답한다. 



### 이 외 코멘트

* templates 사용하는 앱 생성, 추가 시  studyproject - setting.py에서 INSTALLED_APPS에 넣어주어야 함
* main의 urls.py: `path('secondapp/', include('secondapp.urls'))` 설명
* templates 파일은 templates 폴더를 만들어서 거기에 넣는게 약속임
* urls 파일들 mapping 하는 방법
* first.app: 맛보기로 view만 있는 간단한 예제

* static 폴더 : 이미지와 같은 정적인 파일 넣어두는 폴더, 클라이언트한테 작업없이 던져지는 파일
  *  `STATIC_URL = '/static/'` : settings에 디폴트값으로 있음

> secondapp에 대한 코드 설명은 내일! 

